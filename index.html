<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Happy Valentines My Love ðŸ’—</title>
<style>
body {
    margin: 0;
    background: linear-gradient(to bottom, #ffd6e7, #ffc0d6);
    font-family: 'Courier New', monospace;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    overflow: hidden;
}

/* glowing title */
.title {
    position: absolute;
    top: 50px;
    font-size: 34px;
    color: #ff4d88;
    animation: glow 2s infinite alternate;
}
@keyframes glow {
    from { text-shadow: 0 0 5px #ff99bb; }
    to { text-shadow: 0 0 25px #ff3385; }
}

/* envelope */
.envelope {
    width: 220px;
    height: 150px;
    background: #ff8fb1;
    position: relative;
    cursor: pointer;
    border-radius: 12px;
    transition: transform 0.5s;
    box-shadow: 0 0 15px rgba(0,0,0,0.2);
}
.envelope:hover { transform: scale(1.08); }
.envelope::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    border-left: 110px solid transparent;
    border-right: 110px solid transparent;
    border-bottom: 75px solid #ff6f9f;
    transition: transform 0.8s;
    transform-origin: top;
}
.envelope.open::before { transform: rotateX(180deg); }

/* letter */
.letter {
    position: absolute;
    width: 420px;
    height: 520px;
    background: #fffaf0; /* soft page color */
    padding: 30px;
    border-radius: 12px;
    box-shadow: 0 0 25px rgba(0,0,0,0.3);
    transform: translateY(200px) scale(0);
    transition: transform 1s, opacity 1s;
    overflow-y: auto;
    opacity: 1;
}
.letter.show { transform: translateY(0px) scale(1); }

/* typed text */
#typedText {
    white-space: pre-line;
    font-size: 19px;
    color: #444;
    line-height: 1.6; /* book-style spacing */
}

/* hearts */
.heart {
    position: absolute;
    animation: fall linear infinite;
    pointer-events: none;
}
@keyframes fall {
    from { transform: translateY(-10vh); opacity: 1; }
    to { transform: translateY(110vh); opacity: 0; }
}

/* button */
#moreBtn {
    position: absolute;
    right: 50px;
    bottom: 100px;
    padding: 12px 20px;
    font-size: 18px;
    background: #ff4d88;
    color: white;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    display: none;
    opacity: 0;
    transition: opacity 1.5s;
}

/* video scene */
#animationVideo {
    display: none;
    width: 80%;
    max-width: 800px;
    border-radius: 12px;
    box-shadow: 0 0 30px rgba(0,0,0,0.4);
    position: relative;
}
</style>
</head>

<body>

<div class="title">happy valentines my love ðŸ’—</div>

<div class="envelope" id="envelope" onclick="openLetter()"></div>

<div class="letter" id="letter">
  <div id="typedText"></div>
</div>

<button id="moreBtn" onclick="playVideo()">there's more for youâ€¦</button>

<!-- Video -->
<video id="animationVideo" autoplay muted playsinline>
  <source src="animation.mp4" type="video/mp4">
</video>

<script>
const message = `

HAPPY VALENTINES DAYYYYYYYYYYYY
    ðŸ’—ðŸ’—ðŸ’—ðŸ’—ðŸ’—ðŸ’—ðŸ’—ðŸ’—ðŸ’—

You are my first valentine and
I wish that you'd be my only valentine.
Forever. hehe

I made this just for you,
because you mean alot to me.

Thank you for loving me the way you do.
You make everything feel easier just by being you.

Thank you for being patient with me, for listening to me, and for staying by my side no matter what. 
Youâ€™re my comfort, my safe place, and my favoriteeeeeee person.

Im so greatful that you are mineeee <3333

I love you so so sooo muchhhhhhh!!!!!!

- ðŸ’Œ`;

let index = 0;

function openLetter() {
    document.getElementById("envelope").classList.add("open");

    setTimeout(() => {
        document.getElementById("letter").classList.add("show");
        typeText();
        createHearts();
    }, 600);
}

function typeText() {
    if (index < message.length) {
        document.getElementById("typedText").innerHTML += message.charAt(index);
        index++;
        setTimeout(typeText, 55);
    } else {
        const btn = document.getElementById("moreBtn");
        btn.style.display = "block";
        setTimeout(() => { btn.style.opacity = 1; }, 100);
    }
}

// Hearts during letter typing
function createHearts() {
    setInterval(() => {
        let heart = document.createElement("div");
        heart.innerHTML = "ðŸ’—";
        heart.className = "heart";
        heart.style.left = Math.random() * window.innerWidth + "px";
        heart.style.fontSize = (Math.random() * 20 + 15) + "px";
        heart.style.animationDuration = (Math.random() * 3 + 3) + "s";
        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 6000);
    }, 300);
}

// Hearts only outside video frame
function createHeartsOutsideVideo(video) {
    const rect = video.getBoundingClientRect();

    setInterval(() => {
        let heart = document.createElement("div");
        heart.className = "heart";
        heart.innerHTML = "ðŸ’–";
        heart.style.fontSize = (Math.random() * 25 + 15) + "px";

        let side = Math.floor(Math.random() * 4);
        switch(side) {
            case 0: // top
                heart.style.left = Math.random() * window.innerWidth + "px";
                heart.style.top = Math.random() * rect.top + "px";
                break;
            case 1: // bottom
                heart.style.left = Math.random() * window.innerWidth + "px";
                heart.style.top = rect.bottom + Math.random() * (window.innerHeight - rect.bottom) + "px";
                break;
            case 2: // left
                heart.style.left = Math.random() * rect.left + "px";
                heart.style.top = Math.random() * window.innerHeight + "px";
                break;
            case 3: // right
                heart.style.left = rect.right + Math.random() * (window.innerWidth - rect.right) + "px";
                heart.style.top = Math.random() * window.innerHeight + "px";
                break;
        }

        document.body.appendChild(heart);
        heart.style.animationDuration = (Math.random() * 3 + 3) + "s";
        setTimeout(() => heart.remove(), 6000);

    }, 300);
}

function playVideo() {
    // fade out everything
    document.getElementById("letter").style.opacity = 0;
    document.getElementById("envelope").style.opacity = 0;
    document.querySelector(".title").style.opacity = 0;
    document.getElementById("moreBtn").style.opacity = 0;

    setTimeout(() => {
        // hide letter/envelope/button completely
        document.getElementById("letter").style.display = "none";
        document.getElementById("envelope").style.display = "none";
        document.querySelector(".title").style.display = "none";
        document.getElementById("moreBtn").style.display = "none";

        // show video
        const video = document.getElementById("animationVideo");
        video.style.display = "block";

        // start hearts around video
        createHeartsOutsideVideo(video);

    }, 1000);
}
</script>

</body>
</html>
